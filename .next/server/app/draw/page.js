(()=>{var e={};e.id=676,e.ids=[676],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},604:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(482),s=a(9108),i=a(2563),l=a.n(i),n=a(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["draw",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6368)),"/Users/macbook/Desktop/rutlixi/app/draw/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2917)),"/Users/macbook/Desktop/rutlixi/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/macbook/Desktop/rutlixi/app/draw/page.tsx"],x="/draw/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/draw/page",pathname:"/draw",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8892:(e,t,a)=>{Promise.resolve().then(a.bind(a,3916))},3916:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(5344),s=a(8428),i=a(3729),l=a(3261),n=a(9119),o=a(6212),d=a(9296),c=a(2481);function x(){let e=(0,s.useSearchParams)(),t=(0,s.useRouter)(),a=e.get("name")||"Bạn",[x,p]=(0,i.useState)(!1),[m,u]=(0,i.useState)(!1),[h,b]=(0,i.useState)(null),[f,g]=(0,i.useState)(""),[y,w]=(0,i.useState)(!1),j=async()=>{if(!y){w(!0),g(""),p(!0);try{let e=new Promise(e=>setTimeout(e,2500)),t=await fetch("/api/draw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})}),r=await t.json();if(await e,p(!1),!t.ok)throw Error(r.error||"C\xf3 lỗi xảy ra");b(r.prize),u(!0)}catch(e){p(!1),w(!1),g(e.message)}}};return(0,r.jsxs)("main",{className:"flex h-[100dvh] flex-col items-center justify-center p-4 bg-black overflow-hidden relative",children:[r.jsx(l.E.div,{initial:{scale:1.2,opacity:0},animate:{scale:[1.2,1.1,1.2],opacity:1},transition:{scale:{duration:25,repeat:1/0,ease:"linear"},opacity:{duration:2,ease:"easeOut"}},className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:'url("/bg-sanctuary-2026.png")'}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-transparent to-black/80 z-0"}),r.jsx("div",{className:"absolute inset-0 bg-red-950/10 mix-blend-color z-0"}),r.jsx(c.Vj,{}),r.jsx(c.hK,{}),r.jsx(c.DU,{}),r.jsx(c.Vj,{}),r.jsx(d.Q,{}),(0,r.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[r.jsx(c.UT,{left:"5%",top:"20px",delay:.2}),r.jsx(c.UT,{left:"95%",top:"40px",delay:.7}),r.jsx(c.hP,{delay:1}),r.jsx(c.hP,{delay:3}),r.jsx(c.hP,{delay:5})]}),(0,r.jsxs)("div",{className:"z-10 w-full max-w-lg flex flex-col items-center justify-evenly h-full max-h-[700px]",children:[(0,r.jsxs)(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center mb-2 sm:mb-12",children:[(0,r.jsxs)("h1",{className:"text-3xl sm:text-6xl font-serif text-transparent bg-clip-text bg-gradient-to-b from-yellow-100 via-yellow-300 to-yellow-600 mb-2 sm:mb-4 font-black drop-shadow-[0_0_30px_rgba(234,179,8,0.6)]",children:["CH\xc0O ",a.toUpperCase(),","]}),r.jsx("p",{className:"text-yellow-400 font-black tracking-[0.4em] sm:tracking-[0.6em] uppercase text-xs sm:text-xl drop-shadow-2xl",children:"CHẠM BAO L\xcc X\xcc ĐỂ NHẬN LỘC"})]}),(0,r.jsxs)("div",{className:"relative flex flex-col items-center",children:[r.jsx(n.M,{mode:"wait",children:m?(0,r.jsxs)(l.E.div,{initial:{scale:.5,opacity:0,y:50,rotate:-15},animate:{scale:1,opacity:1,y:0,rotate:0},className:"w-[90vw] max-w-sm bg-black/70 backdrop-blur-[40px] p-6 sm:p-14 rounded-[3rem] sm:rounded-[4rem] border-2 border-yellow-500/40 shadow-[0_60px_120px_rgba(0,0,0,0.9)] text-center relative ring-2 ring-white/10",children:[r.jsx("div",{className:"absolute -top-12 sm:-top-20 left-1/2 -translate-x-1/2 text-7xl sm:text-9xl filter drop-shadow-[0_0_50px_rgba(234,179,8,0.8)]",children:"\uD83C\uDF8A"}),r.jsx("h2",{className:"text-3xl sm:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-white to-yellow-500 mb-3 sm:mb-8 font-serif uppercase tracking-tighter leading-none",children:"VẠN SỰ NHƯ \xdd!"}),r.jsx("p",{className:"text-yellow-100 mb-8 sm:mb-14 leading-relaxed text-base sm:text-2xl font-black font-serif italic drop-shadow-md",children:"Một m\xf3n qu\xe0 tri \xe2n đ\xe3 thuộc về bạn."}),r.jsx(o.z,{onClick:()=>{let e=encodeURIComponent(JSON.stringify(h));t.push(`/result?name=${encodeURIComponent(a)}&data=${e}`)},className:"w-full bg-gradient-to-r from-yellow-500 via-yellow-400 to-yellow-600 hover:scale-[1.05] text-red-950 font-black h-14 sm:h-20 rounded-xl sm:rounded-2xl shadow-[0_25px_50px_rgba(0,0,0,0.5)] transition-all uppercase tracking-tight text-xl sm:text-2xl border-b-4 sm:border-b-8 border-yellow-700",children:"XEM LỘC ĐẦU NĂM"})]},"result"):r.jsx(c.vE,{isShaking:x,onClick:j})}),f&&(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-12 p-8 bg-red-950/95 border-2 border-red-500/40 text-red-100 rounded-[2.5rem] backdrop-blur-3xl text-sm text-center max-w-sm shadow-[0_30px_60px_rgba(0,0,0,0.6)]",children:[r.jsx("p",{className:"mb-4 font-black text-2xl uppercase tracking-tighter",children:"Hệ thống bận!"}),r.jsx("p",{className:"mb-8 font-medium text-red-200/80 leading-relaxed",children:f}),r.jsx(o.z,{variant:"outline",size:"sm",onClick:()=>{g(""),w(!1)},className:"w-full bg-white/10 border-red-500/60 text-red-50 hover:bg-red-500/30 rounded-2xl h-14 font-black uppercase text-lg tracking-widest transition-all",children:"THỬ LẠI NGAY"})]})]})]})]})}},9296:(e,t,a)=>{"use strict";a.d(t,{Q:()=>l});var r=a(5344),s=a(3261),i=a(3729);let l=()=>{let[e,t]=(0,i.useState)([]);return(0,i.useEffect)(()=>{t(Array.from({length:18}).map((e,t)=>({id:t,left:100*Math.random(),size:35*Math.random()+8,duration:12*Math.random()+6,delay:5*Math.random(),rotate:360*Math.random(),type:Math.random()>.4?"mai":"dao",depth:Math.random()>.5?"z-20":"z-0",opacity:.4*Math.random()+.6})))},[]),r.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden h-full w-full",children:e.map(e=>r.jsx(s.E.div,{initial:{y:-100,x:`${e.left}vw`,opacity:0,rotate:0,scale:0},animate:{y:"110vh",x:`${e.left+20*Math.sin(e.id)}vw`,opacity:[0,e.opacity,e.opacity,0],rotate:e.rotate+1080,scale:[.3,1,.6]},transition:{duration:e.duration,repeat:1/0,delay:e.delay,ease:"linear"},className:`absolute ${e.depth}`,style:{width:e.size,height:e.size},children:(0,r.jsxs)("svg",{viewBox:"0 0 100 100",className:"drop-shadow-lg",children:[r.jsx("defs",{children:(0,r.jsxs)("radialGradient",{id:`grad-${e.id}`,cx:"50%",cy:"50%",r:"50%",children:[r.jsx("stop",{offset:"0%",stopColor:"mai"===e.type?"#FFEA00":"#FFB7C5"}),r.jsx("stop",{offset:"100%",stopColor:"mai"===e.type?"#FFD700":"#F43F5E"})]})}),(0,r.jsxs)("g",{transform:"translate(50,50)",children:[[0,72,144,216,288].map(t=>r.jsx("path",{d:"M0,0 Q-15,-30 0,-40 Q15,-30 0,0",fill:`url(#grad-${e.id})`,transform:`rotate(${t})`,stroke:"mai"===e.type?"#EAB308":"#BE123D",strokeWidth:"0.5"},t)),r.jsx("circle",{cx:"0",cy:"0",r:"6",fill:"mai"===e.type?"#F59E0B":"#9F1239"})]})]})},e.id))})}},8428:(e,t,a)=>{"use strict";var r=a(4767);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},6368:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5036),s=a(2);let i=(0,a(6843).createProxy)(String.raw`/Users/macbook/Desktop/rutlixi/app/draw/Client.tsx`),{__esModule:l,$$typeof:n}=i,o=i.default;function d(){return r.jsx(s.Suspense,{fallback:r.jsx("div",{className:"flex min-h-screen items-center justify-center",children:"Đang tải..."}),children:r.jsx(o,{})})}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,719,796,396],()=>a(604));module.exports=r})();