(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{4419:function(e,t,a){Promise.resolve().then(a.bind(a,4899))},4899:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(3827),r=a(7907),l=a(4090),n=a(3818),i=a(8745),o=a(5754),c=a(8344),d=a(7435);function x(){let e=(0,r.useSearchParams)(),t=(0,r.useRouter)(),a=e.get("name")||"Bạn",[x,m]=(0,l.useState)(!1),[p,u]=(0,l.useState)(!1),[h,f]=(0,l.useState)(null),[b,y]=(0,l.useState)(""),[g,w]=(0,l.useState)(!1),j=async()=>{if(!g){w(!0),y(""),m(!0);try{let e=new Promise(e=>setTimeout(e,2500)),t=await fetch("/api/draw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})}),s=await t.json();if(await e,m(!1),!t.ok)throw Error(s.error||"C\xf3 lỗi xảy ra");f(s.prize),u(!0)}catch(e){m(!1),w(!1),y(e.message)}}};return(0,s.jsxs)("main",{className:"flex h-[100dvh] flex-col items-center justify-center p-4 bg-black overflow-hidden relative",children:[(0,s.jsx)(n.E.div,{initial:{scale:1.2,opacity:0},animate:{scale:[1.2,1.1,1.2],opacity:1},transition:{scale:{duration:25,repeat:1/0,ease:"linear"},opacity:{duration:2,ease:"easeOut"}},className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:'url("/bg-sanctuary-2026.png")'}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-transparent to-black/80 z-0"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-red-950/10 mix-blend-color z-0"}),(0,s.jsx)(d.Vj,{}),(0,s.jsx)(d.hK,{}),(0,s.jsx)(d.DU,{}),(0,s.jsx)(d.Vj,{}),(0,s.jsx)(c.Q,{}),(0,s.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[(0,s.jsx)(d.UT,{left:"5%",top:"20px",delay:.2}),(0,s.jsx)(d.UT,{left:"95%",top:"40px",delay:.7}),(0,s.jsx)(d.hP,{delay:1}),(0,s.jsx)(d.hP,{delay:3}),(0,s.jsx)(d.hP,{delay:5})]}),(0,s.jsxs)("div",{className:"z-10 w-full max-w-lg flex flex-col items-center justify-evenly h-full max-h-[700px]",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center mb-2 sm:mb-12",children:[(0,s.jsxs)("h1",{className:"text-3xl sm:text-6xl font-serif text-transparent bg-clip-text bg-gradient-to-b from-yellow-100 via-yellow-300 to-yellow-600 mb-2 sm:mb-4 font-black drop-shadow-[0_0_30px_rgba(234,179,8,0.6)]",children:["CH\xc0O ",a.toUpperCase(),","]}),(0,s.jsx)("p",{className:"text-yellow-400 font-black tracking-[0.4em] sm:tracking-[0.6em] uppercase text-xs sm:text-xl drop-shadow-2xl",children:"CHẠM BAO L\xcc X\xcc ĐỂ NHẬN LỘC"})]}),(0,s.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,s.jsx)(i.M,{mode:"wait",children:p?(0,s.jsxs)(n.E.div,{initial:{scale:.5,opacity:0,y:50,rotate:-15},animate:{scale:1,opacity:1,y:0,rotate:0},className:"w-[90vw] max-w-sm bg-black/70 backdrop-blur-[40px] p-6 sm:p-14 rounded-[3rem] sm:rounded-[4rem] border-2 border-yellow-500/40 shadow-[0_60px_120px_rgba(0,0,0,0.9)] text-center relative ring-2 ring-white/10",children:[(0,s.jsx)("div",{className:"absolute -top-12 sm:-top-20 left-1/2 -translate-x-1/2 text-7xl sm:text-9xl filter drop-shadow-[0_0_50px_rgba(234,179,8,0.8)]",children:"\uD83C\uDF8A"}),(0,s.jsx)("h2",{className:"text-3xl sm:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-white to-yellow-500 mb-3 sm:mb-8 font-serif uppercase tracking-tighter leading-none",children:"VẠN SỰ NHƯ \xdd!"}),(0,s.jsx)("p",{className:"text-yellow-100 mb-8 sm:mb-14 leading-relaxed text-base sm:text-2xl font-black font-serif italic drop-shadow-md",children:"Một m\xf3n qu\xe0 tri \xe2n đ\xe3 thuộc về bạn."}),(0,s.jsx)(o.z,{onClick:()=>{let e=encodeURIComponent(JSON.stringify(h));t.push("/result?name=".concat(encodeURIComponent(a),"&data=").concat(e))},className:"w-full bg-gradient-to-r from-yellow-500 via-yellow-400 to-yellow-600 hover:scale-[1.05] text-red-950 font-black h-14 sm:h-20 rounded-xl sm:rounded-2xl shadow-[0_25px_50px_rgba(0,0,0,0.5)] transition-all uppercase tracking-tight text-xl sm:text-2xl border-b-4 sm:border-b-8 border-yellow-700",children:"XEM LỘC ĐẦU NĂM"})]},"result"):(0,s.jsx)(d.vE,{isShaking:x,onClick:j})}),b&&(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-12 p-8 bg-red-950/95 border-2 border-red-500/40 text-red-100 rounded-[2.5rem] backdrop-blur-3xl text-sm text-center max-w-sm shadow-[0_30px_60px_rgba(0,0,0,0.6)]",children:[(0,s.jsx)("p",{className:"mb-4 font-black text-2xl uppercase tracking-tighter",children:"Hệ thống bận!"}),(0,s.jsx)("p",{className:"mb-8 font-medium text-red-200/80 leading-relaxed",children:b}),(0,s.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>{y(""),w(!1)},className:"w-full bg-white/10 border-red-500/60 text-red-50 hover:bg-red-500/30 rounded-2xl h-14 font-black uppercase text-lg tracking-widest transition-all",children:"THỬ LẠI NGAY"})]})]})]})]})}},8344:function(e,t,a){"use strict";a.d(t,{Q:function(){return n}});var s=a(3827),r=a(3818),l=a(4090);let n=()=>{let[e,t]=(0,l.useState)([]);return(0,l.useEffect)(()=>{t(Array.from({length:18}).map((e,t)=>({id:t,left:100*Math.random(),size:35*Math.random()+8,duration:12*Math.random()+6,delay:5*Math.random(),rotate:360*Math.random(),type:Math.random()>.4?"mai":"dao",depth:Math.random()>.5?"z-20":"z-0",opacity:.4*Math.random()+.6})))},[]),(0,s.jsx)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden h-full w-full",children:e.map(e=>(0,s.jsx)(r.E.div,{initial:{y:-100,x:"".concat(e.left,"vw"),opacity:0,rotate:0,scale:0},animate:{y:"110vh",x:"".concat(e.left+20*Math.sin(e.id),"vw"),opacity:[0,e.opacity,e.opacity,0],rotate:e.rotate+1080,scale:[.3,1,.6]},transition:{duration:e.duration,repeat:1/0,delay:e.delay,ease:"linear"},className:"absolute ".concat(e.depth),style:{width:e.size,height:e.size},children:(0,s.jsxs)("svg",{viewBox:"0 0 100 100",className:"drop-shadow-lg",children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("radialGradient",{id:"grad-".concat(e.id),cx:"50%",cy:"50%",r:"50%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"mai"===e.type?"#FFEA00":"#FFB7C5"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"mai"===e.type?"#FFD700":"#F43F5E"})]})}),(0,s.jsxs)("g",{transform:"translate(50,50)",children:[[0,72,144,216,288].map(t=>(0,s.jsx)("path",{d:"M0,0 Q-15,-30 0,-40 Q15,-30 0,0",fill:"url(#grad-".concat(e.id,")"),transform:"rotate(".concat(t,")"),stroke:"mai"===e.type?"#EAB308":"#BE123D",strokeWidth:"0.5"},t)),(0,s.jsx)("circle",{cx:"0",cy:"0",r:"6",fill:"mai"===e.type?"#F59E0B":"#9F1239"})]})]})},e.id))})}},7907:function(e,t,a){"use strict";var s=a(5313);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[230,765,971,69,744],function(){return e(e.s=4419)}),_N_E=e.O()}]);