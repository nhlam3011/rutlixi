(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{7710:function(e,t,n){Promise.resolve().then(n.bind(n,9308))},9308:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(3827),s=n(7907),l=n(4090),i=n(3818),r=n(5754),o=n(5179),c=n(9842),d=n(5922),h=n(8344),m=n(7435);function x(){let e=(0,s.useSearchParams)(),t=e.get("name")||"Bạn",n=e.get("data"),[x,u]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(n)try{u(JSON.parse(decodeURIComponent(n)))}catch(e){console.error(e)}},[n]);let[f,p]=(0,l.useState)(null),[g,b]=(0,l.useState)(null),[y,v]=(0,l.useState)(!1),[j,N]=(0,l.useState)(!1),[w,k]=(0,l.useState)(""),[C,I]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=["B\xednh Ngọ xu\xe2n sang, m\xe3 đ\xe1o th\xe0nh c\xf4ng, vạn sự hanh th\xf4ng.","C\xf4ng việc như ngựa phi, t\xe0i lộc như mưa đổ, hạnh ph\xfac như hoa cười.","Vạn sự như \xfd, tỉ sự như mơ, triệu triệu bất ngờ, kh\xf4ng chờ cũng đến.","Năm mới B\xednh Ngọ, vạn dặm th\xe0nh c\xf4ng, lộc v\xe0ng g\xf5 cửa, ph\xfa qu\xfd vinh quang.","Xu\xe2n n\xe0y hơn hẳn mấy xu\xe2n qua. Ph\xfac lộc đưa nhau đến từng nh\xe0.","T\xe2n xu\xe2n như \xfd, vạn sự hanh th\xf4ng, ngựa v\xe0ng mang lộc tới tận cửa.","Ch\xfac bạn phong độ như chiến m\xe3, bền bỉ như tuấn m\xe3, th\xe0nh c\xf4ng rực rỡ.","Cung ch\xfac t\xe2n ni\xean, vạn sự b\xecnh y\xean, hạnh ph\xfac v\xf4 bi\xean, vui vẻ triền mi\xean.","Lộc xu\xe2n đầy nh\xe0, cả năm sung t\xfac, ph\xfac đức vẹn to\xe0n.","Sức khỏe dồi d\xe0o, tiền v\xe0o như nước, t\xecnh duy\xean thắm thiết.","C\xf4ng danh hiển h\xe1ch, sự nghiệp vững bền, năm mới c\xe1t tường.","Ch\xfac mừng năm mới, an khang thịnh vượng, ph\xe1t t\xe0i lộc vinh hoa.","Vạn sự như \xfd - Tỉ sự như mơ - Triệu điều bất ngờ.","Tấn t\xe0i tấn lộc - Xu\xe2n mới an khang - Gia đ\xecnh hạnh ph\xfac.","Sự nghiệp thăng tiến, m\xe3 đ\xe1o th\xe0nh c\xf4ng, vạn dặm b\xecnh an."];I(e[Math.floor(Math.random()*e.length)])},[]);let S=async(e,t)=>{let{data:n,error:a}=await d.O.storage.from("lucky-money").upload(t,e);if(a)throw a;return null==n?void 0:n.path},z=async e=>{if(e.preventDefault(),f&&g&&x){v(!0),k("");try{let e=Date.now(),n="selfies/".concat(e,"_").concat(t,"_selfie.jpg"),a="qrs/".concat(e,"_").concat(t,"_qr.jpg");await S(f,n),await S(g,a);let{data:{publicUrl:s}}=d.O.storage.from("lucky-money").getPublicUrl(n),{data:{publicUrl:l}}=d.O.storage.from("lucky-money").getPublicUrl(a);if(!(await fetch("/api/submit-info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prize_id:x.id,user_name:t,selfie_url:s,qr_url:l})})).ok)throw Error("Failed to submit info");N(!0)}catch(e){console.error(e),k(e.message||"Lỗi khi gửi th\xf4ng tin. Vui l\xf2ng thử lại.")}finally{v(!1)}}};return x?j?(0,a.jsxs)("main",{className:"flex h-[100dvh] flex-col items-center justify-center p-4 bg-black overflow-hidden relative text-center",children:[(0,a.jsx)(i.E.div,{initial:{scale:1.1},animate:{scale:[1.1,1.03,1.1]},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:'url("/bg-result-2026.png")'}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70 z-0"}),(0,a.jsx)(m.Nw,{}),(0,a.jsx)(h.Q,{}),(0,a.jsx)(m.DU,{}),(0,a.jsx)(m.Vj,{}),(0,a.jsx)(m.UT,{left:"15%",top:"-20px",delay:.2}),(0,a.jsx)(m.UT,{left:"85%",top:"-40px",delay:.5}),(0,a.jsx)(m.hP,{delay:1}),(0,a.jsx)(m.hP,{delay:3}),(0,a.jsxs)(i.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-black/40 backdrop-blur-3xl p-6 sm:p-10 rounded-[2.5rem] sm:rounded-[3rem] border border-white/20 shadow-2xl w-full max-w-[90vw] sm:max-w-md ring-1 ring-white/10 relative z-10",children:[(0,a.jsx)("div",{className:"text-4xl sm:text-6xl mb-4 sm:mb-6 drop-shadow-lg",children:"\uD83C\uDF8A"}),(0,a.jsx)("h1",{className:"text-3xl sm:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-yellow-500 mb-3 sm:mb-4 font-serif leading-tight",children:"TH\xc0NH C\xd4NG!"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl font-medium text-white mb-3 sm:mb-4",children:"Ch\xfac bạn vạn sự như \xfd!"}),(0,a.jsx)("p",{className:"text-[10px] sm:text-sm text-yellow-100/60 mb-6 sm:mb-8 px-2 sm:px-4 font-medium leading-relaxed",children:"Th\xf4ng tin của bạn đ\xe3 được chuyển tới Admin."}),(0,a.jsx)(r.z,{onClick:()=>window.location.href="/",className:"w-full bg-gradient-to-r from-yellow-700 via-yellow-400 to-yellow-700 text-red-950 font-black h-14 sm:h-16 rounded-xl sm:rounded-2xl hover:brightness-110 shadow-lg transition-transform active:scale-95 text-lg",children:"QUAY VỀ TRANG CHỦ"})]})]}):(0,a.jsxs)("main",{className:"flex h-[100dvh] flex-col items-center justify-center p-4 bg-black overflow-hidden relative",children:[(0,a.jsx)(i.E.div,{initial:{scale:1.1},animate:{scale:[1.1,1.03,1.1]},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:'url("/bg-result-2026.png")'}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 z-0"}),(0,a.jsx)(m.Nw,{}),(0,a.jsx)(h.Q,{}),(0,a.jsx)(m.DU,{}),(0,a.jsx)(m.Vj,{}),(0,a.jsx)(m.UT,{left:"15%",top:"-20px",delay:.2}),(0,a.jsx)(m.UT,{left:"85%",top:"-40px",delay:.5}),(0,a.jsx)(m.hP,{delay:1.5}),(0,a.jsx)(m.hP,{delay:4}),(0,a.jsxs)(i.E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},className:"w-full max-w-md bg-white p-6 sm:p-8 rounded-[3rem] shadow-[0_40px_80px_rgba(0,0,0,0.6)] relative max-h-full overflow-y-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-6 sm:mb-10",children:[(0,a.jsx)("p",{className:"text-red-600 font-bold uppercase tracking-[0.3em] text-[10px] sm:text-xs mb-2 sm:mb-3",children:"Ch\xfac Mừng Bạn!"}),(0,a.jsx)("h1",{className:"text-3xl sm:text-5xl font-black text-red-700 mb-2 font-serif drop-shadow-sm",children:x.name}),(0,a.jsx)("div",{className:"w-16 sm:w-24 h-1.5 bg-gradient-to-r from-transparent via-yellow-500 to-transparent mx-auto rounded-full my-4 sm:my-6"}),(0,a.jsxs)("div",{className:"relative py-4 px-2",children:[(0,a.jsx)("span",{className:"absolute top-0 left-0 text-yellow-500/20 text-6xl font-serif",children:'"'}),(0,a.jsx)("p",{className:"text-transparent bg-clip-text bg-gradient-to-br from-red-600 via-red-800 to-red-900 text-lg sm:text-3xl font-serif font-black italic leading-relaxed px-6",children:C}),(0,a.jsx)("span",{className:"absolute bottom-0 right-0 text-yellow-500/20 text-6xl font-serif translate-y-4",children:'"'})]})]}),"money"===x.type?(0,a.jsxs)("form",{onSubmit:z,className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{className:"bg-orange-50 p-4 sm:p-5 rounded-2xl border border-orange-100",children:[(0,a.jsx)("p",{className:"text-orange-900 font-bold text-xs sm:text-sm mb-2 sm:mb-3 flex items-center gap-2",children:"\uD83E\uDDE7 NHẬN QU\xc0 LIỀN TAY:"}),(0,a.jsxs)("div",{className:"space-y-1 sm:space-y-2 text-[10px] sm:text-xs text-orange-800/80 leading-relaxed",children:[(0,a.jsx)("p",{children:"• Tải ảnh selfie của bạn (để Admin đối so\xe1t)."}),(0,a.jsx)("p",{children:"• Tải ảnh m\xe3 QR ng\xe2n h\xe0ng hoặc v\xed điện tử."})]})]}),(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"selfie",className:"text-xs font-bold text-gray-400 uppercase ml-1",children:"Ảnh Selfie"}),(0,a.jsx)("div",{className:"relative group",children:(0,a.jsx)(o.I,{id:"selfie",type:"file",accept:"image/*",onChange:e=>{var t;return p((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},required:!0,className:"h-14 bg-gray-50 border-gray-100 rounded-xl cursor-pointer file:bg-red-600 file:text-white file:border-0 file:rounded-lg file:px-4 file:h-8 file:mt-1 file:mr-4 file:text-xs file:font-bold hover:bg-gray-100 transition-colors"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"qr",className:"text-xs font-bold text-gray-400 uppercase ml-1",children:"M\xe3 QR Nhận Tiền"}),(0,a.jsx)(o.I,{id:"qr",type:"file",accept:"image/*",onChange:e=>{var t;return b((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},required:!0,className:"h-14 bg-gray-50 border-gray-100 rounded-xl cursor-pointer file:bg-red-600 file:text-white file:border-0 file:rounded-lg file:px-4 file:h-8 file:mt-1 file:mr-4 file:text-xs file:font-bold hover:bg-gray-100 transition-colors"})]})]}),w&&(0,a.jsx)("p",{className:"text-red-500 text-xs text-center font-medium bg-red-50 p-2 rounded-lg",children:w}),(0,a.jsx)(r.z,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white font-black h-14 sm:h-16 rounded-2xl shadow-xl shadow-red-200 transition-all active:scale-95 text-sm sm:text-base",disabled:y||!f||!g,children:y?"ĐANG XỬ L\xdd...":"X\xc1C NHẬN NHẬN QU\xc0"})]}):(0,a.jsx)("div",{className:"text-center py-6",children:(0,a.jsx)(r.z,{onClick:()=>window.location.href="/",className:"w-full bg-red-600 hover:bg-red-700 text-white font-black h-16 rounded-2xl shadow-xl",children:"QUAY VỀ"})})]})]}):(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-red-900 text-yellow-500 font-serif",children:"Đang khai lộc..."})}},8344:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var a=n(3827),s=n(3818),l=n(4090);let i=()=>{let[e,t]=(0,l.useState)([]);return(0,l.useEffect)(()=>{t(Array.from({length:18}).map((e,t)=>({id:t,left:100*Math.random(),size:35*Math.random()+8,duration:12*Math.random()+6,delay:5*Math.random(),rotate:360*Math.random(),type:Math.random()>.4?"mai":"dao",depth:Math.random()>.5?"z-20":"z-0",opacity:.4*Math.random()+.6})))},[]),(0,a.jsx)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden h-full w-full",children:e.map(e=>(0,a.jsx)(s.E.div,{initial:{y:-100,x:"".concat(e.left,"vw"),opacity:0,rotate:0,scale:0},animate:{y:"110vh",x:"".concat(e.left+20*Math.sin(e.id),"vw"),opacity:[0,e.opacity,e.opacity,0],rotate:e.rotate+1080,scale:[.3,1,.6]},transition:{duration:e.duration,repeat:1/0,delay:e.delay,ease:"linear"},className:"absolute ".concat(e.depth),style:{width:e.size,height:e.size},children:(0,a.jsxs)("svg",{viewBox:"0 0 100 100",className:"drop-shadow-lg",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("radialGradient",{id:"grad-".concat(e.id),cx:"50%",cy:"50%",r:"50%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"mai"===e.type?"#FFEA00":"#FFB7C5"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"mai"===e.type?"#FFD700":"#F43F5E"})]})}),(0,a.jsxs)("g",{transform:"translate(50,50)",children:[[0,72,144,216,288].map(t=>(0,a.jsx)("path",{d:"M0,0 Q-15,-30 0,-40 Q15,-30 0,0",fill:"url(#grad-".concat(e.id,")"),transform:"rotate(".concat(t,")"),stroke:"mai"===e.type?"#EAB308":"#BE123D",strokeWidth:"0.5"},t)),(0,a.jsx)("circle",{cx:"0",cy:"0",r:"6",fill:"mai"===e.type?"#F59E0B":"#9F1239"})]})]})},e.id))})}},5179:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var a=n(3827),s=n(4090),l=n(1657);let i=s.forwardRef((e,t)=>{let{className:n,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...i})});i.displayName="Input"},9842:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var a=n(3827),s=n(4090),l=n(6028),i=n(9769),r=n(1657);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(l.f,{ref:t,className:(0,r.cn)(o(),n),...s})});c.displayName=l.f.displayName},5922:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});let a=(0,n(6577).eI)("https://tkwzjyhkxewnwbpxrrwm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrd3pqeWhreGV3bndicHhycndtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzExNTcyNjQsImV4cCI6MjA4NjczMzI2NH0.-uybVWjMJJwplNtW4s64wFaSc77RXX1RDxZPotP9U8Y")},7907:function(e,t,n){"use strict";var a=n(5313);n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[230,837,765,971,69,744],function(){return e(e.s=7710)}),_N_E=e.O()}]);